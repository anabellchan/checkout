class App extends React.Component {
  constructor(props) {
    super(props);
    this.state = {
      form: 'homepage',
      account: {
        name: '',
        email: '',
        password: ''
      },
      shipping: {
        address: '',
        address2: '',
        city: '',
        state: '',
        zipcode: '',
        phone: ''
      },
      billing: {
        zipcode: ''
      },
      payment: {
        creditcard: '',
        cardexpiry: '',
        cvv: ''
      }
    };
    this.handleHomePage = this.handleHomePage.bind(this);
    this.handleAccount = this.handleAccount.bind(this);
    this.handleShipping = this.handleShipping.bind(this);
    this.handlePayment = this.handlePayment.bind(this);
    this.handleConfirmation = this.handleConfirmation.bind(this);
    this.handleAccountInputChange = this.handleAccountInputChange.bind(this);
    this.handleShippingInputChange = this.handleShippingInputChange.bind(this);
    this.handlePaymentInputChange = this.handlePaymentInputChange.bind(this);
    this.handleBillingInputChange = this.handleBillingInputChange.bind(this);
  }

  saveInfo() {
    $.ajax({
      url: 'http://localhost:3000/save',
      method: 'POST',
      data: this.state
    }).done(() => {
      this.loadForm();
    });
  }

  handleHomePage(e) {
    e.preventDefault(); // go to next form

    this.setState({
      form: 'account'
    });
    this.loadForm();
  }

  handleAccount(e) {
    e.preventDefault(); // jquery post to the server

    this.setState({
      form: 'shipping'
    });
    this.saveInfo();
  }

  handleShipping(e) {
    e.preventDefault(); // jquery post to the server

    this.setState({
      form: 'payment'
    });
    this.saveInfo();
  }

  handlePayment(e) {
    e.preventDefault(); // jquery post to the server

    this.setState({
      form: 'confirmation'
    });
    this.saveInfo();
  }

  handleConfirmation(e) {
    e.preventDefault(); // send to homepage

    this.setState({
      form: 'homepage'
    });
    this.loadForm();
  }

  handleAccountInputChange(e) {
    this.setState({
      account: { ...this.state.account,
        [e.target.name]: e.target.value
      }
    });
  }

  handleShippingInputChange(e) {
    this.setState({
      shipping: { ...this.state.shipping,
        [e.target.name]: e.target.value
      }
    });
  }

  handlePaymentInputChange(e) {
    this.setState({
      payment: { ...this.state.payment,
        [e.target.name]: e.target.value
      }
    });
  }

  handleBillingInputChange(e) {
    this.setState({
      billing: { ...this.state.billing,
        [e.target.name]: e.target.value
      }
    });
  }

  loadForm() {
    switch (this.state.form) {
      case 'homepage':
        {
          return /*#__PURE__*/React.createElement("div", null, /*#__PURE__*/React.createElement("h1", null, "My Cart"), /*#__PURE__*/React.createElement("input", {
            type: "button",
            value: "Checkout",
            onClick: this.handleHomePage.bind(this)
          }));
        }
        ;

      case 'account':
        {
          return /*#__PURE__*/React.createElement("div", null, /*#__PURE__*/React.createElement("h2", null, "Create an Account"), /*#__PURE__*/React.createElement("form", {
            onSubmit: this.handleAccount
          }, /*#__PURE__*/React.createElement("label", null, "Name:", /*#__PURE__*/React.createElement("input", {
            type: "text",
            name: "name",
            required: true,
            value: this.state.account.name,
            onChange: this.handleAccountInputChange
          })), /*#__PURE__*/React.createElement("label", null, "Email:", /*#__PURE__*/React.createElement("input", {
            type: "email",
            name: "email",
            required: true,
            value: this.state.account.email,
            onChange: this.handleAccountInputChange
          })), /*#__PURE__*/React.createElement("label", null, "Password:", /*#__PURE__*/React.createElement("input", {
            type: "password",
            name: "password",
            minLength: "5",
            required: true,
            value: this.state.account.password,
            onChange: this.handleAccountInputChange
          })), /*#__PURE__*/React.createElement("input", {
            type: "submit",
            value: "Next"
          })));
        }

      case 'shipping':
        {
          return /*#__PURE__*/React.createElement("div", null, /*#__PURE__*/React.createElement("h2", null, "Shipping Information"), /*#__PURE__*/React.createElement("form", {
            onSubmit: this.handleShipping
          }, /*#__PURE__*/React.createElement("label", null, "Address", /*#__PURE__*/React.createElement("input", {
            type: "text",
            name: "address",
            required: true,
            value: this.state.shipping.address,
            onChange: this.handleShippingInputChange
          })), /*#__PURE__*/React.createElement("label", null, "Address 2", /*#__PURE__*/React.createElement("input", {
            type: "text",
            name: "address2",
            value: this.state.shipping.address2,
            onChange: this.handleShippingInputChange
          })), /*#__PURE__*/React.createElement("label", null, "City", /*#__PURE__*/React.createElement("input", {
            type: "text",
            name: "city",
            required: true,
            value: this.state.shipping.city,
            onChange: this.handleShippingInputChange
          })), /*#__PURE__*/React.createElement("label", null, "State", /*#__PURE__*/React.createElement("input", {
            type: "text",
            name: "state",
            id: "state",
            required: true,
            value: this.state.shipping.state,
            onChange: this.handleShippingInputChange
          })), /*#__PURE__*/React.createElement("label", null, "Zip Code", /*#__PURE__*/React.createElement("input", {
            type: "text",
            name: "zipcode",
            id: "zipcode",
            required: true,
            value: this.state.shipping.zipcode,
            onChange: this.handleShippingInputChange
          })), /*#__PURE__*/React.createElement("label", null, "Phone Number", /*#__PURE__*/React.createElement("input", {
            type: "tel",
            name: "phone",
            id: "phone",
            required: true,
            value: this.state.shipping.phone,
            onChange: this.handleShippingInputChange
          })), /*#__PURE__*/React.createElement("input", {
            type: "submit",
            value: "Next"
          })));
        }

      case 'payment':
        {
          return /*#__PURE__*/React.createElement("div", null, /*#__PURE__*/React.createElement("h2", null, "Billing and Payment"), /*#__PURE__*/React.createElement("form", {
            onSubmit: this.handlePayment
          }, /*#__PURE__*/React.createElement("label", null, "Credit Card #", /*#__PURE__*/React.createElement("input", {
            type: "number",
            name: "creditcard",
            required: true,
            value: this.state.payment.creditcard,
            onChange: this.handlePaymentInputChange
          })), /*#__PURE__*/React.createElement("label", null, "Expiry Date", /*#__PURE__*/React.createElement("input", {
            type: "date",
            name: "cardexpiry",
            required: true,
            value: this.state.payment.cardexpiry,
            onChange: this.handlePaymentInputChange
          })), /*#__PURE__*/React.createElement("label", null, "CVV", /*#__PURE__*/React.createElement("input", {
            type: "number",
            name: "cvv",
            min: "000",
            max: "999",
            placeholder: "nnn",
            required: true,
            value: this.state.payment.cvv,
            onChange: this.handlePaymentInputChange
          })), /*#__PURE__*/React.createElement("label", null, "Billing Zip Code", /*#__PURE__*/React.createElement("input", {
            type: "text",
            name: "zipcode",
            required: true,
            value: this.state.billing.zipcode,
            onChange: this.handleBillingInputChange
          })), /*#__PURE__*/React.createElement("input", {
            type: "submit",
            value: "Next"
          })));
        }

      case 'confirmation':
        {
          return /*#__PURE__*/React.createElement("div", null, /*#__PURE__*/React.createElement("h2", null, "Account Information"), /*#__PURE__*/React.createElement("form", {
            onSubmit: this.handleConfirmation
          }, /*#__PURE__*/React.createElement("dl", null, /*#__PURE__*/React.createElement("dd", null, this.state.account.name), /*#__PURE__*/React.createElement("dd", null, this.state.account.email)), /*#__PURE__*/React.createElement("h2", null, "Shipping Information"), /*#__PURE__*/React.createElement("dl", null, /*#__PURE__*/React.createElement("dd", null, this.state.shipping.address), /*#__PURE__*/React.createElement("dd", null, this.state.shipping.address2), /*#__PURE__*/React.createElement("dd", null, this.state.shipping.city), /*#__PURE__*/React.createElement("dd", null, this.state.shipping.state), /*#__PURE__*/React.createElement("dd", null, this.state.shipping.zipcode), /*#__PURE__*/React.createElement("dd", null, this.state.shipping.phone)), /*#__PURE__*/React.createElement("h2", null, "Billing Payment Information"), /*#__PURE__*/React.createElement("dl", null, /*#__PURE__*/React.createElement("dd", null, this.state.payment.creditcard), /*#__PURE__*/React.createElement("dd", null, this.state.payment.cardexpiry), /*#__PURE__*/React.createElement("dd", null, this.state.payment.cvv), /*#__PURE__*/React.createElement("dd", null, this.state.billing.zipcode)), /*#__PURE__*/React.createElement("input", {
            type: "submit",
            value: "Purchase"
          })));
        }
    }
  }

  render() {
    return /*#__PURE__*/React.createElement("div", null, /*#__PURE__*/React.createElement("h1", null, "Checkout"), this.loadForm());
  }

}

ReactDOM.render( /*#__PURE__*/React.createElement(App, null), document.getElementById('app'));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3NyYy9hcHAuanN4Il0sIm5hbWVzIjpbIkFwcCIsIlJlYWN0IiwiQ29tcG9uZW50IiwiY29uc3RydWN0b3IiLCJwcm9wcyIsInN0YXRlIiwiZm9ybSIsImFjY291bnQiLCJuYW1lIiwiZW1haWwiLCJwYXNzd29yZCIsInNoaXBwaW5nIiwiYWRkcmVzcyIsImFkZHJlc3MyIiwiY2l0eSIsInppcGNvZGUiLCJwaG9uZSIsImJpbGxpbmciLCJwYXltZW50IiwiY3JlZGl0Y2FyZCIsImNhcmRleHBpcnkiLCJjdnYiLCJoYW5kbGVIb21lUGFnZSIsImJpbmQiLCJoYW5kbGVBY2NvdW50IiwiaGFuZGxlU2hpcHBpbmciLCJoYW5kbGVQYXltZW50IiwiaGFuZGxlQ29uZmlybWF0aW9uIiwiaGFuZGxlQWNjb3VudElucHV0Q2hhbmdlIiwiaGFuZGxlU2hpcHBpbmdJbnB1dENoYW5nZSIsImhhbmRsZVBheW1lbnRJbnB1dENoYW5nZSIsImhhbmRsZUJpbGxpbmdJbnB1dENoYW5nZSIsInNhdmVJbmZvIiwiJCIsImFqYXgiLCJ1cmwiLCJtZXRob2QiLCJkYXRhIiwiZG9uZSIsImxvYWRGb3JtIiwiZSIsInByZXZlbnREZWZhdWx0Iiwic2V0U3RhdGUiLCJ0YXJnZXQiLCJ2YWx1ZSIsInJlbmRlciIsIlJlYWN0RE9NIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCJdLCJtYXBwaW5ncyI6IkFBRUEsTUFBTUEsR0FBTixTQUFrQkMsS0FBSyxDQUFDQyxTQUF4QixDQUFrQztBQUNoQ0MsRUFBQUEsV0FBVyxDQUFDQyxLQUFELEVBQVE7QUFDakIsVUFBTUEsS0FBTjtBQUNBLFNBQUtDLEtBQUwsR0FBYTtBQUNYQyxNQUFBQSxJQUFJLEVBQUUsVUFESztBQUVYQyxNQUFBQSxPQUFPLEVBQUU7QUFDUEMsUUFBQUEsSUFBSSxFQUFFLEVBREM7QUFFUEMsUUFBQUEsS0FBSyxFQUFFLEVBRkE7QUFHUEMsUUFBQUEsUUFBUSxFQUFFO0FBSEgsT0FGRTtBQU9YQyxNQUFBQSxR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LFFBQVgsQ0FBb0JFLFFBQXpCLENBRkYsZUFHRSxnQ0FBSyxLQUFLUixLQUFMLENBQVdNLFFBQVgsQ0FBb0JHLElBQXpCLENBSEYsZUFJRSxnQ0FBSyxLQUFLVCxLQUFMLENBQVdNLFFBQVgsQ0FBb0JOLEtBQXpCLENBSkYsZUFLRSxnQ0FBSyxLQUFLQSxLQUFMLENBQVdNLFFBQVgsQ0FBb0JJLE9BQXpCLENBTEYsZUFNRSxnQ0FBSyxLQUFLVixLQUFMLENBQVdNLFFBQVgsQ0FBb0JLLEtBQXpCLENBTkYsQ0FORixlQWNFLDhEQWRGLGVBZUUsNkNBQ0UsZ0NBQUssS0FBS1gsS0FBTCxDQUFXYSxPQUFYLENBQW1CQyxVQUF4QixDQURGLGVBRUUsZ0NBQUssS0FBS2QsS0FBTCxDQUFXYSxPQUFYLENBQW1CRSxVQUF4QixDQUZGLGVBR0UsZ0NBQUssS0FBS2YsS0FBTCxDQUFXYSxPQUFYLENBQW1CRyxHQUF4QixDQUhGLGVBSUUsZ0NBQUssS0FBS2hCLEtBQUwsQ0FBV1ksT0FBWCxDQUFtQkYsT0FBeEIsQ0FKRixDQWZGLGVBcUJFO0FBQU8sWUFBQSxJQUFJLEVBQUMsUUFBWjtBQUFxQixZQUFBLEtBQUssRUFBQztBQUEzQixZQXJCRixDQUZGLENBREY7QUE0QkQ7QUEvSkg7QUFpS0Q7O0FBRUQ4QixFQUFBQSxNQUFNLEdBQUc7QUFDUCx3QkFDRSw4Q0FDRSwyQ0FERixFQUVHLEtBQUtOLFFBQUwsRUFGSCxDQURGO0FBTUQ7O0FBOVMrQjs7QUFpVGxDTyxRQUFRLENBQUNELE1BQVQsZUFBZ0Isb0JBQUMsR0FBRCxPQUFoQixFQUF3QkUsUUFBUSxDQUFDQyxjQUFULENBQXdCLEtBQXhCLENBQXhCIiwic291cmNlc0NvbnRlbnQiOlsiXG5cbmNsYXNzIEFwcCBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBmb3JtOiAnaG9tZXBhZ2UnLFxuICAgICAgYWNjb3VudDoge1xuICAgICAgICBuYW1lOiAnJyxcbiAgICAgICAgZW1haWw6ICcnLFxuICAgICAgICBwYXNzd29yZDogJydcbiAgICAgIH0sXG4gICAgICBzaGlwcGluZzoge1xuICAgICAgICBhZGRyZXNzOiAnJyxcbiAgICAgICAgYWRkcmVzczI6ICcnLFxuICAgICAgICBjaXR5OiAnJyxcbiAgICAgICAgc3RhdGU6ICcnLFxuICAgICAgICB6aXBjb2RlOiAnJyxcbiAgICAgICAgcGhvbmU6ICcnXG4gICAgICB9LFxuICAgICAgYmlsbGluZzoge1xuICAgICAgICB6aXBjb2RlOiAnJ1xuICAgICAgfSxcbiAgICAgIHBheW1lbnQ6IHtcbiAgICAgICAgY3JlZGl0Y2FyZDogJycsXG4gICAgICAgIGNhcmRleHBpcnk6ICcnLFxuICAgICAgICBjdnY6ICcnXG4gICAgICB9XG4gICAgfVxuICAgIHRoaXMuaGFuZGxlSG9tZVBhZ2UgPSB0aGlzLmhhbmRsZUhvbWVQYWdlLmJpbmQodGhpcyk7XG4gICAgdGhpcy5oYW5kbGVBY2NvdW50ID0gdGhpcy5oYW5kbGVBY2NvdW50LmJpbmQodGhpcyk7XG4gICAgdGhpcy5oYW5kbGVTaGlwcGluZyA9IHRoaXMuaGFuZGxlU2hpcHBpbmcuYmluZCh0aGlzKTtcbiAgICB0aGlzLmhhbmRsZVBheW1lbnQgPSB0aGlzLmhhbmRsZVBheW1lbnQuYmluZCh0aGlzKTtcbiAgICB0aGlzLmhhbmRsZUNvbmZpcm1hdGlvbiA9IHRoaXMuaGFuZGxlQ29uZmlybWF0aW9uLmJpbmQodGhpcyk7XG5cbiAgICB0aGlzLmhhbmRsZUFjY291bnRJbnB1dENoYW5nZSA9IHRoaXMuaGFuZGxlQWNjb3VudElucHV0Q2hhbmdlLmJpbmQodGhpcyk7XG4gICAgdGhpcy5oYW5kbGVTaGlwcGluZ0lucHV0Q2hhbmdlID0gdGhpcy5oYW5kbGVTaGlwcGluZ0lucHV0Q2hhbmdlLmJpbmQodGhpcyk7XG4gICAgdGhpcy5oYW5kbGVQYXltZW50SW5wdXRDaGFuZ2UgPSB0aGlzLmhhbmRsZVBheW1lbnRJbnB1dENoYW5nZS5iaW5kKHRoaXMpO1xuICAgIHRoaXMuaGFuZGxlQmlsbGluZ0lucHV0Q2hhbmdlID0gdGhpcy5oYW5kbGVCaWxsaW5nSW5wdXRDaGFuZ2UuYmluZCh0aGlzKTtcbiAgfVxuXG4gIHNhdmVJbmZvKCkge1xuICAgICQuYWpheCh7XG4gICAgICB1cmw6ICdodHRwOi8vbG9jYWxob3N0OjMwMDAvc2F2ZScsXG4gICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgIGRhdGE6IHRoaXMuc3RhdGVcbiAgICB9KVxuICAgICAgLmRvbmUoKCkgPT4ge1xuICAgICAgICB0aGlzLmxvYWRGb3JtKCk7XG4gICAgICB9KTtcbiAgfVxuXG4gIGhhbmRsZUhvbWVQYWdlKGUpIHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgLy8gZ28gdG8gbmV4dCBmb3JtXG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBmb3JtOiAnYWNjb3VudCdcbiAgICB9KTtcbiAgICB0aGlzLmxvYWRGb3JtKCk7XG4gIH1cblxuICBoYW5kbGVBY2NvdW50KGUpIHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgLy8ganF1ZXJ5IHBvc3QgdG8gdGhlIHNlcnZlclxuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgZm9ybTogJ3NoaXBwaW5nJ1xuICAgIH0pO1xuICAgIHRoaXMuc2F2ZUluZm8oKTtcbiAgfVxuXG4gIGhhbmRsZVNoaXBwaW5nKGUpIHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgLy8ganF1ZXJ5IHBvc3QgdG8gdGhlIHNlcnZlclxuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgZm9ybTogJ3BheW1lbnQnXG4gICAgfSk7XG4gICAgdGhpcy5zYXZlSW5mbygpO1xuICB9XG5cbiAgaGFuZGxlUGF5bWVudChlKSB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIC8vIGpxdWVyeSBwb3N0IHRvIHRoZSBzZXJ2ZXJcbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIGZvcm06ICdjb25maXJtYXRpb24nXG4gICAgfSk7XG4gICAgdGhpcy5zYXZlSW5mbygpO1xuICB9XG5cbiAgaGFuZGxlQ29uZmlybWF0aW9uKGUpIHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgLy8gc2VuZCB0byBob21lcGFnZVxuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgZm9ybTogJ2hvbWVwYWdlJ1xuICAgIH0pO1xuICAgIHRoaXMubG9hZEZvcm0oKTtcbiAgfVxuXG4gIGhhbmRsZUFjY291bnRJbnB1dENoYW5nZShlKSB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBhY2NvdW50OiB7XG4gICAgICAgIC4uLnRoaXMuc3RhdGUuYWNjb3VudCxcbiAgICAgICAgW2UudGFyZ2V0Lm5hbWVdOiBlLnRhcmdldC52YWx1ZVxuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgaGFuZGxlU2hpcHBpbmdJbnB1dENoYW5nZShlKSB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBzaGlwcGluZzoge1xuICAgICAgICAuLi50aGlzLnN0YXRlLnNoaXBwaW5nLFxuICAgICAgICBbZS50YXJnZXQubmFtZV06IGUudGFyZ2V0LnZhbHVlXG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBoYW5kbGVQYXltZW50SW5wdXRDaGFuZ2UoZSkge1xuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgcGF5bWVudDoge1xuICAgICAgICAuLi50aGlzLnN0YXRlLnBheW1lbnQsXG4gICAgICAgIFtlLnRhcmdldC5uYW1lXTogZS50YXJnZXQudmFsdWVcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIGhhbmRsZUJpbGxpbmdJbnB1dENoYW5nZShlKSB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBiaWxsaW5nOiB7XG4gICAgICAgIC4uLnRoaXMuc3RhdGUuYmlsbGluZyxcbiAgICAgICAgW2UudGFyZ2V0Lm5hbWVdOiBlLnRhcmdldC52YWx1ZVxuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgbG9hZEZvcm0oKSB7XG4gICAgc3dpdGNoICh0aGlzLnN0YXRlLmZvcm0pIHtcbiAgICAgIGNhc2UgJ2hvbWVwYWdlJzoge1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICA8aDE+TXkgQ2FydDwvaDE+XG4gICAgICAgICAgICA8aW5wdXQgdHlwZT1cImJ1dHRvblwiIHZhbHVlPVwiQ2hlY2tvdXRcIiBvbkNsaWNrPXt0aGlzLmhhbmRsZUhvbWVQYWdlLmJpbmQodGhpcyl9IC8+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICk7XG4gICAgICB9O1xuICAgICAgY2FzZSAnYWNjb3VudCc6IHtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgPGgyPkNyZWF0ZSBhbiBBY2NvdW50PC9oMj5cbiAgICAgICAgICAgIDxmb3JtIG9uU3VibWl0PXt0aGlzLmhhbmRsZUFjY291bnR9PlxuICAgICAgICAgICAgICA8bGFiZWw+XG4gICAgICAgICAgICAgICAgTmFtZTpcbiAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cInRleHRcIiBuYW1lPVwibmFtZVwiIHJlcXVpcmVkXG4gICAgICAgICAgICAgICAgICB2YWx1ZT17dGhpcy5zdGF0ZS5hY2NvdW50Lm5hbWV9XG4gICAgICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5oYW5kbGVBY2NvdW50SW5wdXRDaGFuZ2V9PlxuICAgICAgICAgICAgICAgIDwvaW5wdXQ+XG4gICAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICAgIDxsYWJlbD5cbiAgICAgICAgICAgICAgICBFbWFpbDpcbiAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cImVtYWlsXCIgbmFtZT1cImVtYWlsXCIgcmVxdWlyZWRcbiAgICAgICAgICAgICAgICAgIHZhbHVlPXt0aGlzLnN0YXRlLmFjY291bnQuZW1haWx9XG4gICAgICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5oYW5kbGVBY2NvdW50SW5wdXRDaGFuZ2V9PlxuICAgICAgICAgICAgICAgIDwvaW5wdXQ+XG4gICAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICAgIDxsYWJlbD5cbiAgICAgICAgICAgICAgICBQYXNzd29yZDpcbiAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cInBhc3N3b3JkXCIgbmFtZT1cInBhc3N3b3JkXCIgbWluTGVuZ3RoPVwiNVwiIHJlcXVpcmVkXG4gICAgICAgICAgICAgICAgICB2YWx1ZT17dGhpcy5zdGF0ZS5hY2NvdW50LnBhc3N3b3JkfVxuICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMuaGFuZGxlQWNjb3VudElucHV0Q2hhbmdlfT5cbiAgICAgICAgICAgICAgICA8L2lucHV0PlxuICAgICAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cInN1Ym1pdFwiIHZhbHVlPVwiTmV4dFwiPjwvaW5wdXQ+XG4gICAgICAgICAgICA8L2Zvcm0+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICBjYXNlICdzaGlwcGluZyc6IHtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgPGgyPlNoaXBwaW5nIEluZm9ybWF0aW9uPC9oMj5cbiAgICAgICAgICAgIDxmb3JtIG9uU3VibWl0PXt0aGlzLmhhbmRsZVNoaXBwaW5nfT5cbiAgICAgICAgICAgICAgPGxhYmVsPlxuICAgICAgICAgICAgICAgIEFkZHJlc3NcbiAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cInRleHRcIiBuYW1lPVwiYWRkcmVzc1wiIHJlcXVpcmVkXG4gICAgICAgICAgICAgICAgICB2YWx1ZT17dGhpcy5zdGF0ZS5zaGlwcGluZy5hZGRyZXNzfVxuICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMuaGFuZGxlU2hpcHBpbmdJbnB1dENoYW5nZX0+XG4gICAgICAgICAgICAgICAgPC9pbnB1dD5cbiAgICAgICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICAgICAgPGxhYmVsPlxuICAgICAgICAgICAgICAgIEFkZHJlc3MgMlxuICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwidGV4dFwiIG5hbWU9XCJhZGRyZXNzMlwiXG4gICAgICAgICAgICAgICAgICB2YWx1ZT17dGhpcy5zdGF0ZS5zaGlwcGluZy5hZGRyZXNzMn1cbiAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLmhhbmRsZVNoaXBwaW5nSW5wdXRDaGFuZ2V9PlxuICAgICAgICAgICAgICAgIDwvaW5wdXQ+XG4gICAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICAgIDxsYWJlbD5cbiAgICAgICAgICAgICAgICBDaXR5XG4gICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJ0ZXh0XCIgbmFtZT1cImNpdHlcIiByZXF1aXJlZFxuICAgICAgICAgICAgICAgICAgdmFsdWU9e3RoaXMuc3RhdGUuc2hpcHBpbmcuY2l0eX1cbiAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLmhhbmRsZVNoaXBwaW5nSW5wdXRDaGFuZ2V9PlxuICAgICAgICAgICAgICAgIDwvaW5wdXQ+XG4gICAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICAgIDxsYWJlbD5cbiAgICAgICAgICAgICAgICBTdGF0ZVxuICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwidGV4dFwiIG5hbWU9XCJzdGF0ZVwiIGlkPVwic3RhdGVcIiByZXF1aXJlZFxuICAgICAgICAgICAgICAgICAgdmFsdWU9e3RoaXMuc3RhdGUuc2hpcHBpbmcuc3RhdGV9XG4gICAgICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5oYW5kbGVTaGlwcGluZ0lucHV0Q2hhbmdlfT5cbiAgICAgICAgICAgICAgICA8L2lucHV0PlxuICAgICAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgICAgICA8bGFiZWw+XG4gICAgICAgICAgICAgICAgWmlwIENvZGVcbiAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cInRleHRcIiBuYW1lPVwiemlwY29kZVwiIGlkPVwiemlwY29kZVwiIHJlcXVpcmVkXG4gICAgICAgICAgICAgICAgICB2YWx1ZT17dGhpcy5zdGF0ZS5zaGlwcGluZy56aXBjb2RlfVxuICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMuaGFuZGxlU2hpcHBpbmdJbnB1dENoYW5nZX0+XG4gICAgICAgICAgICAgICAgPC9pbnB1dD5cbiAgICAgICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICAgICAgPGxhYmVsPlxuICAgICAgICAgICAgICAgIFBob25lIE51bWJlclxuICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwidGVsXCIgbmFtZT1cInBob25lXCIgaWQ9XCJwaG9uZVwiIHJlcXVpcmVkXG4gICAgICAgICAgICAgICAgICB2YWx1ZT17dGhpcy5zdGF0ZS5zaGlwcGluZy5waG9uZX1cbiAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLmhhbmRsZVNoaXBwaW5nSW5wdXRDaGFuZ2V9PlxuICAgICAgICAgICAgICAgIDwvaW5wdXQ+XG4gICAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwic3VibWl0XCIgdmFsdWU9XCJOZXh0XCI+PC9pbnB1dD5cbiAgICAgICAgICAgIDwvZm9ybT5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKVxuICAgICAgfVxuICAgICAgY2FzZSAncGF5bWVudCc6IHtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgPGgyPkJpbGxpbmcgYW5kIFBheW1lbnQ8L2gyPlxuICAgICAgICAgICAgPGZvcm0gb25TdWJtaXQ9e3RoaXMuaGFuZGxlUGF5bWVudH0+XG4gICAgICAgICAgICAgIDxsYWJlbD5cbiAgICAgICAgICAgICAgICBDcmVkaXQgQ2FyZCAjXG4gICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJudW1iZXJcIiBuYW1lPVwiY3JlZGl0Y2FyZFwiIHJlcXVpcmVkXG4gICAgICAgICAgICAgICAgICB2YWx1ZT17dGhpcy5zdGF0ZS5wYXltZW50LmNyZWRpdGNhcmR9XG4gICAgICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5oYW5kbGVQYXltZW50SW5wdXRDaGFuZ2V9XG4gICAgICAgICAgICAgICAgPjwvaW5wdXQ+XG4gICAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICAgIDxsYWJlbD5cbiAgICAgICAgICAgICAgICBFeHBpcnkgRGF0ZVxuICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cImRhdGVcIiBuYW1lPVwiY2FyZGV4cGlyeVwiIHJlcXVpcmVkXG4gICAgICAgICAgICAgICAgICB2YWx1ZT17dGhpcy5zdGF0ZS5wYXltZW50LmNhcmRleHBpcnl9XG4gICAgICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5oYW5kbGVQYXltZW50SW5wdXRDaGFuZ2V9XG4gICAgICAgICAgICAgID48L2lucHV0PlxuICAgICAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICAgIDxsYWJlbD5cbiAgICAgICAgICAgICAgICBDVlZcbiAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJudW1iZXJcIiBuYW1lPVwiY3Z2XCIgbWluPVwiMDAwXCIgbWF4PVwiOTk5XCIgcGxhY2Vob2xkZXI9XCJubm5cIiByZXF1aXJlZFxuICAgICAgICAgICAgICAgICAgdmFsdWU9e3RoaXMuc3RhdGUucGF5bWVudC5jdnZ9XG4gICAgICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5oYW5kbGVQYXltZW50SW5wdXRDaGFuZ2V9XG4gICAgICAgICAgICAgID48L2lucHV0PlxuICAgICAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICAgIDxsYWJlbD5cbiAgICAgICAgICAgICAgICBCaWxsaW5nIFppcCBDb2RlXG4gICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJ0ZXh0XCIgbmFtZT1cInppcGNvZGVcIiByZXF1aXJlZFxuICAgICAgICAgICAgICAgICAgdmFsdWU9e3RoaXMuc3RhdGUuYmlsbGluZy56aXBjb2RlfVxuICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMuaGFuZGxlQmlsbGluZ0lucHV0Q2hhbmdlfVxuICAgICAgICAgICAgICAgID48L2lucHV0PlxuICAgICAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwic3VibWl0XCIgdmFsdWU9XCJOZXh0XCI+PC9pbnB1dD5cbiAgICAgICAgICAgIDwvZm9ybT5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKVxuICAgICAgfVxuICAgICAgY2FzZSAnY29uZmlybWF0aW9uJzoge1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICA8aDI+QWNjb3VudCBJbmZvcm1hdGlvbjwvaDI+XG4gICAgICAgICAgICA8Zm9ybSBvblN1Ym1pdD17dGhpcy5oYW5kbGVDb25maXJtYXRpb259PlxuICAgICAgICAgICAgICA8ZGw+XG4gICAgICAgICAgICAgICAgPGRkPnt0aGlzLnN0YXRlLmFjY291bnQubmFtZX08L2RkPlxuICAgICAgICAgICAgICAgIDxkZD57dGhpcy5zdGF0ZS5hY2NvdW50LmVtYWlsfTwvZGQ+XG4gICAgICAgICAgICAgIDwvZGw+XG4gICAgICAgICAgICAgIDxoMj5TaGlwcGluZyBJbmZvcm1hdGlvbjwvaDI+XG4gICAgICAgICAgICAgIDxkbD5cbiAgICAgICAgICAgICAgICA8ZGQ+e3RoaXMuc3RhdGUuc2hpcHBpbmcuYWRkcmVzc308L2RkPlxuICAgICAgICAgICAgICAgIDxkZD57dGhpcy5zdGF0ZS5zaGlwcGluZy5hZGRyZXNzMn08L2RkPlxuICAgICAgICAgICAgICAgIDxkZD57dGhpcy5zdGF0ZS5zaGlwcGluZy5jaXR5fTwvZGQ+XG4gICAgICAgICAgICAgICAgPGRkPnt0aGlzLnN0YXRlLnNoaXBwaW5nLnN0YXRlfTwvZGQ+XG4gICAgICAgICAgICAgICAgPGRkPnt0aGlzLnN0YXRlLnNoaXBwaW5nLnppcGNvZGV9PC9kZD5cbiAgICAgICAgICAgICAgICA8ZGQ+e3RoaXMuc3RhdGUuc2hpcHBpbmcucGhvbmV9PC9kZD5cbiAgICAgICAgICAgICAgPC9kbD5cbiAgICAgICAgICAgICAgPGgyPkJpbGxpbmcgUGF5bWVudCBJbmZvcm1hdGlvbjwvaDI+XG4gICAgICAgICAgICAgIDxkbD5cbiAgICAgICAgICAgICAgICA8ZGQ+e3RoaXMuc3RhdGUucGF5bWVudC5jcmVkaXRjYXJkfTwvZGQ+XG4gICAgICAgICAgICAgICAgPGRkPnt0aGlzLnN0YXRlLnBheW1lbnQuY2FyZGV4cGlyeX08L2RkPlxuICAgICAgICAgICAgICAgIDxkZD57dGhpcy5zdGF0ZS5wYXltZW50LmN2dn08L2RkPlxuICAgICAgICAgICAgICAgIDxkZD57dGhpcy5zdGF0ZS5iaWxsaW5nLnppcGNvZGV9PC9kZD5cbiAgICAgICAgICAgICAgPC9kbD5cbiAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJzdWJtaXRcIiB2YWx1ZT1cIlB1cmNoYXNlXCI+PC9pbnB1dD5cbiAgICAgICAgICAgIDwvZm9ybT5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2PlxuICAgICAgICA8aDE+Q2hlY2tvdXQ8L2gxPlxuICAgICAgICB7dGhpcy5sb2FkRm9ybSgpfVxuICAgICAgPC9kaXY+XG4gICAgKVxuICB9XG59XG5cblJlYWN0RE9NLnJlbmRlcig8QXBwLz4sIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhcHAnKSk7XG4iXX0=